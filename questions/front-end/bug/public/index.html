<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FE Interview</title>

  <style type="text/css">
    .doc-detail-list {
      position: relative;
      width: 480px;
      list-style: none;
    }

    .doc-detail-list li {
      margin-top: 5px;
      margin-bottom: 5px;
      background-color: lightgrey;
    }

    .doc-detail-list .info {
      box-sizing: border-box;
      position: relative;
      padding: 1em;
      padding-left: 2em;
      width: 100%;
    }

    .doc-detail-list .info span{
      position: absolute;
      left: 1em;
    }

    .button-wrapper {
      background-color: #1abc9c;
      color: white;
      padding: 0.7em;
      margin: 0.3em;
      float: right;
      top: 0;
      right: 0;
      cursor: pointer;
      position: relative;
      z-index: 1;
    }

    .more-info {
      -webkit-transition: opacity 1s, max-height 1s 1s; 
      opacity: 0;
      max-height: 0;
      padding: 0;
    }

    li.is-expanded .more-info {
      -webkit-transition: opacity 1s 1s, max-height 1s; 
      opacity: 1;
      display: block;
      max-height: 60em;
    }

    .more-info dl {
      margin: 1em;
    }

    .more-info dt {
      font-weight: bold;
    }
  </style>

</head>
<body>

  <h1>Doctor Hall of Fame</h1>

  <div class="content">

  <ul class="doc-detail-list">
    <li class="doc-detail">
      <div class="button-wrapper">
        <div class="button">
        See More
        </div>
      </div>
      <div class="info">
        <span>1.</span>
        Dr. Jones
      </div>
      <div class="more-info">
        <dl>
          <dt>Location:</dt>
          <dd>University of Chicago</dd>
          <dt>Specialties:</dt>
          <dd>Archeology, Field Work</dd>
          <dt>Contact:</dt>
          <dd>jones@thelastcrusade.org</dd>
        </dl>
      </div>


    </li>

    <li class="doc-detail">
      <div class="button-wrapper">
        <div class="button">
        See More
        </div>
      </div>
      <div class="info">
        <span>2.</span>
        House, M.D.
      </div>
      <div class="more-info">
        <dl>
          <dt>Location:</dt>
          <dd>Princeton-Plainsboro Teaching Hospital</dd>
          <dt>Specialties:</dt>
          <dd>Diagnostic Medicine</dd>
          <dt>Contact:</dt>
          <dd><i>(deceased)</i></dd>
        </dl>
      </div>
    </li>

    <li class="doc-detail">
      <div class="button-wrapper">
        <div class="button">
        See More
        </div>
      </div>
      <div class="info">
        <span>3.</span>
        Dr. McCoy
      </div>
      <div class="more-info">
        <dl>
          <dt>Location:</dt>
          <dd>USS Enterprise</dd>
          <dt>Specialties:</dt>
          <dd>Transporter accident triage</dd>
          <dt>Contact:</dt>
          <dd>tbd</dd>
        </dl>
      </div>
    </li>

    <li class="doc-detail">
      <div class="button-wrapper">
        <div class="button">
        See More
        </div>
      </div>
      <div class="info">
      <span>4.</span>
      Doctor Nick Riviera (usually referred to as Dr. Nick. . ."hi everybody!")
      </div>
      <div class="more-info">
        <dl>
          <dt>Location:</dt>
          <dd>Hollywood Upstairs Medical College</dd>
          <dt>Specialties:</dt>
          <dd>Unnecessary Surgeries</dd>
          <dt>Contact:</dt>
          <dd>1-600-DOCTORB</dd>
          <dt>quotes:</dt>
          <dd>"You've tried the best, now try the rest!"</dd>
          <dt>Awards:</dt>
          <dd>"Top 25 Simpsons Peripheral Characters"</dd>
        </dl>
      </div>
    </li>

  </ul>

  </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript">
    (function($) {
      var $detailList = $('.doc-detail-list');

      $detailList.click(function(e) {
        var $target =  $(e.target),
            $parent =  $($target.parent()),
            $closeLI = null,
            hasExpanded;

        if($target.hasClass('button-wrapper') || $parent.hasClass('button-wrapper')) {
          $closeLI = $target.closest('li');

          hasExpanded = $closeLI.hasClass('is-expanded');
          $detailList.find('li').removeClass('is-expanded');
          $detailList.find('.button').html('See More');

          if(hasExpanded) {

            if(!$target.hasClass('button')) {
              $target = $target.find('.button');
            }
            $target.html('See More');
          } else {

            if($target.hasClass('button')) {
              $target.html('Hide Doctor Details');
            } else {
              $target.find('.button').html('Hide Doctor Details');
            }
            $closeLI.addClass('is-expanded');
          }
        }
      });

      // $('.doc-detail-list').find('.button').each(function() {
      //   $(this).closest('.doc-detail-list').find('li').on('click', '.button-wrapper', function() {
      //     $(this).find('li').toggleClass('is-expanded');
      //     $target = e.target;
      //     if($target.text().trim() == 'See More')
      //       $(this).find('button').text('Hide Doctor Details');
      //     else if ($target.text().trim() == 'Hide Doctor Details')
      //       $(this).find('button').text('See More');
      //     });
      //   });
    })(jQuery);
    </script>
</body>
</html>
